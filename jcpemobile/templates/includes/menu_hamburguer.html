{% load static %}
<!-- Cabeçalho -->
<header class="cabecalho" id="cabecalho">
    <div class="cabecalho-container">
    <!-- Menu Hamburguer (Mobile) -->
        <button class="menu-hamburguer" id="menuHamburguer" aria-label="Abrir menu">
            <!-- Larger inline SVG so it appears bigger visually; button allows overflow so header size won't change -->
            <svg class="menu-hamburguer-svg" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 60 60" fill="none" style="display:block; overflow:visible; height:48px !important; width:auto !important;">
                <path d="M8 18h44" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
                <path d="M8 30h44" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
                <path d="M8 42h44" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
            </svg>
        </button>

    <!-- Logo -->
        <div class="logo">
            <a href="{% url 'index' %}" title="Jornal do Commercio - Página Inicial">
                <img src="{% static 'images/logo-jc.png' %}" alt="Jornal do Commercio" class="logo-imagem">
            </a>
        </div>

<!-- Formulário de Busca (moved into .cabecalho-acoes) -->

<!-- Ações do Cabeçalho -->
        <div class="cabecalho-acoes">
            <!-- Mover o botão de busca para ficar ao lado do perfil -->
            <form action="{% url 'buscar' %}" method="get" class="search-form" role="search">
                <button type="button" id="botaoBuscaHeader" class="nav-item botao-busca" aria-label="Abrir busca">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                        <circle cx="18.3333" cy="18.3334" r="10" stroke="#33363F" stroke-width="3"/>
                        <path d="M33.3333 33.3334L28.3333 28.3334" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
                    </svg>
                </button>
            </form>

            <!-- Perfil -->
            <button class="botao-perfil" id="botaoPerfil" aria-label="Meu perfil">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <path d="M25 16.6667C25 19.4281 22.7614 21.6667 20 21.6667C17.2386 21.6667 15 19.4281 15 16.6667C15 13.9053 17.2386 11.6667 20 11.6667C22.7614 11.6667 25 13.9053 25 16.6667Z" fill="#33363F" stroke="#33363F" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="20" cy="20" r="15" stroke="#33363F" stroke-width="3"/>
                    <path d="M29.6342 31.3773C29.8461 31.261 29.9463 31.0092 29.8567 30.7847C29.214 29.1741 27.9759 27.7557 26.3024 26.7221C24.4943 25.6053 22.279 25 20 25C17.721 25 15.5057 25.6053 13.6976 26.7221C12.0241 27.7557 10.786 29.1741 10.1433 30.7847C10.0537 31.0092 10.1539 31.261 10.3658 31.3773C16.3662 34.6716 23.6338 34.6716 29.6342 31.3773Z" fill="#33363F"/>
                </svg>
            </button>
        </div>
    </div>
</header>

<!-- Popup de Busca -->
<div class="popup-busca" id="popupBusca">
    <div class="popup-busca-conteudo">
        <form action="{% url 'buscar' %}" method="get" class="popup-busca-form">
            <input class="popup-campo-busca" type="search" name="q" value="{{ request.GET.q|default:'' }}" placeholder="Faça sua pesquisa" aria-label="Pesquisar notícias">
            <button class="popup-botao-pesquisar" type="submit">Pesquisar</button>
        </form>
    </div>
</div>

<!-- Overlay do Menu -->
    <div class="menu-overlay" id="menuOverlay"></div>

<!-- Menu Lateral -->
<nav class="menu-lateral" id="menuLateral" aria-label="Menu principal">
    <div class="menu-lateral-cabecalho">
    <div class="menu-hamburguer-icone">
    </div>
    <button class="menu-lateral-fechar" id="menuLateralFechar" aria-label="Fechar menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M18 6L6 18" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 6L18 18" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    </div>

    <div class="menu-lateral-conteudo">
<!-- Perfil do Usuário (se logado) -->
<div class="menu-lateral-perfil">
    <svg class="icone-perfil" role="img" aria-label="Perfil" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40" fill="none">
        <path d="M25 16.6667C25 19.4281 22.7614 21.6667 20 21.6667C17.2386 21.6667 15 19.4281 15 16.6667C15 13.9053 17.2386 11.6667 20 11.6667C22.7614 11.6667 25 13.9053 25 16.6667Z" fill="#33363F" stroke="#33363F" stroke-width="2" stroke-linecap="round"/>
        <circle cx="20" cy="20" r="15" stroke="#33363F" stroke-width="3"/>
        <path d="M29.6342 31.3773C29.8461 31.261 29.9463 31.0092 29.8567 30.7847C29.214 29.1741 27.9759 27.7557 26.3024 26.7221C24.4943 25.6053 22.279 25 20 25C17.721 25 15.5057 25.6053 13.6976 26.7221C12.0241 27.7557 10.786 29.1741 10.1433 30.7847C10.0537 31.0092 10.1539 31.261 10.3658 31.3773C16.3662 34.6716 23.6338 34.6716 29.6342 31.3773Z" fill="#33363F"/>
    </svg>
    <div class="perfil-info">
        {% if user.is_authenticated %}
        <span class="perfil-nome">Perfil</span>
        <a href="{% url 'logout_usuario' %}" class="perfil-link">Sair</a>
        {% else %}
        <span class="perfil-nome">Perfil</span>
        <a href="#" class="perfil-link" id="linkEntrarMenu">Entrar / Cadastrar</a>
        {% endif %}
    </div>
</div>

<!-- Menu Principal -->
<ul class="menu-principal">
<!-- Preferências -->
    <li class="menu-item">
        <a href="{% url 'preferencias' %}" class="menu-link">
            <span>Preferências</span>
        </a>
    </li>

<!-- Categorias -->
    <li class="menu-item menu-item-expansivel">
        <button class="menu-link" aria-expanded="false">
            <span>Categorias</span>
            <svg class="menu-seta" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
        <ul class="submenu">
            {% for categoria in categorias_menu %}
            <li>
                <a href="{% url 'categoria' categoria.slug %}">
                    <span>{{ categoria.nome }}</span>
                    <svg class="submenu-right" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </li>
            {% endfor %}
        </ul>
    </li>

<!-- Seções Especiais -->
    <li class="menu-item">
        <a href="{% url 'mais_lidas' %}" class="menu-link">
            <span>Mais Lidas</span>
        </a>
    </li>

    <li class="menu-item">
        <a href="{% url 'neels' %}" class="menu-link">
            <span>Neels</span>
        </a>
    </li>

    <li class="menu-item">
        <a href="#curtas" class="menu-link">
            <span>Curtas</span>
        </a>
    </li>

<!-- Canais -->
    <li class="menu-item menu-item-expansivel">
        <button class="menu-link" aria-expanded="false">
            <span>Canais</span>
            <svg class="menu-seta" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
        <ul class="submenu">
        <!-- TV Jornal com submenu -->
            <li class="submenu-item-expansivel">
                <button class="submenu-link" aria-expanded="false">
                    <span>TV Jornal</span>
                    <i class="fas fa-chevron-down submenu-seta"></i>
                </button>
                <ul class="submenu-nivel-2">
                    <li><a href="#tv-jornal-recife">Recife</a></li>
                    <li><a href="#tv-jornal-interior">Interior</a></li>
                </ul>
            </li>
        <!-- Rádio Jornal com submenu -->
            <li class="submenu-item-expansivel">
                <button class="submenu-link" aria-expanded="false">
                    <span>Rádio Jornal</span>
                    <i class="fas fa-chevron-down submenu-seta"></i>
                </button>
                <ul class="submenu-nivel-2">
                    <li><a href="#radio-jornal-recife">Recife</a></li>
                    <li><a href="#radio-jornal-caruaru">Caruaru</a></li>
                    <li><a href="#radio-jornal-garanhuns">Garanhuns</a></li>
                    <li><a href="#radio-jornal-petrolina">Petrolina</a></li>
                </ul>
            </li>
            <li><a href="#podcasts">Podcasts</a></li>
        </ul>
    </li>

<!-- Outras Seções -->
    <li class="menu-item">
        <a href="#jornal-digital" class="menu-link">
            <span>Jornal Digital</span>
        </a>
    </li>

    <li class="menu-item">
        <a href="{% url 'salvos' %}" class="menu-link">
            <span>Notícias Salvas</span>
        </a>
    </li>

    <li class="menu-item">
        <a href="{% url 'painel_diario' %}" class="menu-link">
            <span>Painel Diário</span>
        </a>
    </li>
</ul>

<!-- Redes Sociais -->
<div class="menu-redes-sociais">
    <div class="redes-sociais-lista">
        <a href="https://www.facebook.com/jornaldocommercio" target="_blank" class="icone-social icone-facebook" aria-label="Facebook">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://www.instagram.com/jornaldocommercio" target="_blank" class="icone-social icone-instagram" aria-label="Instagram">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="https://x.com/jornalcommercio" target="_blank" class="icone-social icone-twitter" aria-label="Twitter">
            <svg xmlns="http://www.w3.org/2000/svg" width="34" height="35" viewBox="0 0 34 35" fill="none">
                <circle cx="14.5946" cy="15.4054" r="14.5946" fill="#D9D9D9"/>
                <path d="M11.1514 7.90039L11.1807 7.9375L15.4121 13.2725L20.6582 7.92969L20.6875 7.90039H22.4531L22.2861 8.07031L16.2012 14.2676L23.0781 22.9375L23.207 23.0996H17.8936L17.8633 23.0625L13.2607 17.2607L7.55859 23.0703L7.5293 23.0996H5.76172L5.92871 22.9297L12.4717 16.2666L5.96289 8.0625L5.83496 7.90039H11.1514ZM18.5391 21.8662H20.6084L10.5049 9.13086H8.43555L18.5391 21.8662Z" fill="#33363F" stroke="#33363F" stroke-width="0.2"/>
            </svg>
        </a>
        <a href="https://www.linkedin.com/company/jornal-do-commercio" target="_blank" class="icone-social icone-linkedin" aria-label="LinkedIn">
            <i class="fab fa-linkedin-in"></i>
        </a>
        <a href="https://www.youtube.com/@jornaldocommercio" target="_blank" class="icone-social icone-youtube" aria-label="YouTube">
            <i class="fab fa-youtube"></i>
        </a>
        <a href="https://www.tiktok.com/@jornaldocommercio" target="_blank" class="icone-social icone-tiktok" aria-label="TikTok">
            <i class="fab fa-tiktok"></i>
        </a>
    </div>
</div>

<!-- Links Secundários -->
<div class="menu-lateral-rodape">
    <a href="#sobre">Sobre o JC</a>
    <a href="#fale-conosco">Fale Conosco</a>
    <a href="#anuncie">Anuncie</a>
    <a href="#privacidade">Privacidade</a>
    <button class="btn-feedback-menu" onclick="abrirModalFeedback()">Envie seu Feedback</button>
</div>
</div>
</nav>
