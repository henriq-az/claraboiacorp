{% load static %}
{% load noticia_filters %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<!-- Meta Tags Essenciais -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- SEO e Meta Informações -->
<meta name="description" content="Jornal do Commercio - O mais tradicional veículo de comunicação de Pernambuco. Notícias, reportagens e cobertura completa.">
<meta name="keywords" content="notícias, pernambuco, recife, jornal, commercio, jc, política, economia, esportes">
<meta name="author" content="Jornal do Commercio">
<meta name="robots" content="index, follow">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:title" content="Jornal do Commercio - JC PE">
<meta property="og:description" content="As principais notícias de Pernambuco e do Brasil">
<meta property="og:image" content="{% static 'images/logo-jc.png' %}">

<!-- Favicon -->
<link rel="icon" type="image/png" href="{% static 'images/jc-favicon.png' %}">

<!-- Título -->
<title>Jornal do Commercio - JC PE</title>

<!-- Fontes -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- CSS - Ordem Importante -->
<link rel="stylesheet" href="{% static 'css/reset.css' %}">
<link rel="stylesheet" href="{% static 'css/variaveis.css' %}">
<link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="{% static 'css/componentes.css' %}">
<link rel="stylesheet" href="{% static 'css/layout.css' %}?v=9">
<link rel="stylesheet" href="{% static 'css/menu_inferior.css' %}">
<link rel="stylesheet" href="{% static 'css/home-layout.css' %}">
<link rel="stylesheet" href="{% static 'css/nossos-produtos.css' %}">
<link rel="stylesheet" href="{% static 'css/responsivo.css' %}">
<link rel="stylesheet" href="{% static 'css/modal-cadastro.css' %}">
<link rel="stylesheet" href="{% static 'css/modal-feedback.css' %}">
<link rel="stylesheet" href="{% static 'css/popup-busca.css' %}">
<link rel="stylesheet" href="{% static 'css/radio-player.css' %}">
<link rel="stylesheet" href="{% static 'css/linha-do-tempo.css' %}">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<!-- Barra Superior UOL -->
<div class="barra-uol">
<div class="barra-uol-container">
<a href="https://www.uol.com.br" target="_blank" rel="noopener noreferrer">
<img src="https://conteudo.imguol.com.br/c/_layout/v3/logoUOL2021/logo_completo_white.svg" width="68" height="24" alt="UOL - O melhor conteúdo" title="UOL - O melhor conteúdo">
</a>
</div>
</div>

<div class="top-bar"></div>

{% include 'includes/menu_hamburguer.html' %}

<!-- Modal de Feedback -->
<div class="modal-feedback" id="modalFeedback">
<div class="modal-feedback-content">
<button class="modal-feedback-fechar" id="fecharModalFeedback" aria-label="Fechar">
<i class="fas fa-times"></i>
</button>

<h2>Queremos saber a sua opinião</h2>

<form id="formFeedback" class="form-feedback">
<div class="feedback-pergunta">
<label>Como você avalia sua experiência no site?</label>
<div class="feedback-escala">
<input type="radio" id="nivel1" name="satisfacao" value="1" required>
<label for="nivel1" class="escala-opcao">
<span class="escala-numero">
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 49 49" fill="none">
    <circle cx="24.5" cy="24.5" r="19.875" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M16.4455 33.5744C17.3747 32.7697 18.622 32.1706 20.0007 31.7726C21.3913 31.3711 22.9409 31.1666 24.5 31.1666C26.0591 31.1666 27.6088 31.3711 28.9994 31.7726C30.3781 32.1706 31.6254 32.7697 32.5546 33.5744" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M34.7084 16.3333L28.5834 20.4166" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M14.2916 16.3333L20.4166 20.4166" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <circle cx="16.3333" cy="20.4167" r="2.54167" fill="#33363F" stroke="#33363F" stroke-linecap="round"/>
    <circle cx="32.6667" cy="20.4167" r="2.54167" fill="#33363F" stroke="#33363F" stroke-linecap="round"/>
  </svg>
</span>
<span class="escala-texto">Muito ruim</span>
</label>

<input type="radio" id="nivel2" name="satisfacao" value="2">
<label for="nivel2" class="escala-opcao">
<span class="escala-numero">
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 49 49" fill="none">
    <circle cx="24.5" cy="24.5" r="19.875" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M16.0939 27.9769C17.1691 27.7694 18.4523 27.8267 19.7833 28.0659C21.1312 28.308 22.5658 28.7434 23.9518 29.3223C25.3378 29.9012 26.6559 30.6156 27.7755 31.4041C28.8812 32.1827 29.824 33.0551 30.4321 33.9657" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <mask id="path-3-outside-1_555_623" maskUnits="userSpaceOnUse" x="15" y="18" width="7" height="5" fill="black">
      <rect fill="white" x="15" y="18" width="7" height="5"/>
      <path d="M19.5833 19.0417C19.8264 19.0417 19.948 19.0417 20.023 19.1378C20.0981 19.234 20.0729 19.3349 20.0224 19.5367C19.9334 19.8928 19.7492 20.2215 19.4853 20.4853C19.1025 20.8682 18.5832 21.0833 18.0417 21.0833C17.5002 21.0833 16.9809 20.8682 16.598 20.4853C16.3341 20.2215 16.1499 19.8928 16.0609 19.5367C16.0105 19.3349 15.9852 19.234 16.0603 19.1378C16.1354 19.0417 16.2569 19.0417 16.5 19.0417L18.0417 19.0417H19.5833Z"/>
    </mask>
    <path d="M19.5833 19.0417C19.8264 19.0417 19.948 19.0417 20.023 19.1378C20.0981 19.234 20.0729 19.3349 20.0224 19.5367C19.9334 19.8928 19.7492 20.2215 19.4853 20.4853C19.1025 20.8682 18.5832 21.0833 18.0417 21.0833C17.5002 21.0833 16.9809 20.8682 16.598 20.4853C16.3341 20.2215 16.1499 19.8928 16.0609 19.5367C16.0105 19.3349 15.9852 19.234 16.0603 19.1378C16.1354 19.0417 16.2569 19.0417 16.5 19.0417L18.0417 19.0417H19.5833Z" fill="#33363F"/>
    <path d="M19.5833 19.0417C19.8264 19.0417 19.948 19.0417 20.023 19.1378C20.0981 19.234 20.0729 19.3349 20.0224 19.5367C19.9334 19.8928 19.7492 20.2215 19.4853 20.4853C19.1025 20.8682 18.5832 21.0833 18.0417 21.0833C17.5002 21.0833 16.9809 20.8682 16.598 20.4853C16.3341 20.2215 16.1499 19.8928 16.0609 19.5367C16.0105 19.3349 15.9852 19.234 16.0603 19.1378C16.1354 19.0417 16.2569 19.0417 16.5 19.0417L18.0417 19.0417H19.5833Z" stroke="#33363F" stroke-width="2" stroke-linecap="round" mask="url(#path-3-outside-1_555_623)"/>
    <mask id="path-4-outside-2_555_623" maskUnits="userSpaceOnUse" x="27" y="18" width="7" height="5" fill="black">
      <rect fill="white" x="27" y="18" width="7" height="5"/>
      <path d="M31.5833 19.0417C31.8264 19.0417 31.948 19.0417 32.023 19.1378C32.0981 19.234 32.0729 19.3349 32.0224 19.5367C31.9334 19.8928 31.7492 20.2215 31.4853 20.4853C31.1025 20.8682 30.5832 21.0833 30.0417 21.0833C29.5002 21.0833 28.9809 20.8682 28.598 20.4853C28.3341 20.2215 28.1499 19.8928 28.0609 19.5367C28.0105 19.3349 27.9852 19.234 28.0603 19.1378C28.1354 19.0417 28.2569 19.0417 28.5 19.0417L30.0417 19.0417H31.5833Z"/>
    </mask>
    <path d="M31.5833 19.0417C31.8264 19.0417 31.948 19.0417 32.023 19.1378C32.0981 19.234 32.0729 19.3349 32.0224 19.5367C31.9334 19.8928 31.7492 20.2215 31.4853 20.4853C31.1025 20.8682 30.5832 21.0833 30.0417 21.0833C29.5002 21.0833 28.9809 20.8682 28.598 20.4853C28.3341 20.2215 28.1499 19.8928 28.0609 19.5367C28.0105 19.3349 27.9852 19.234 28.0603 19.1378C28.1354 19.0417 28.2569 19.0417 28.5 19.0417L30.0417 19.0417H31.5833Z" fill="#33363F"/>
    <path d="M31.5833 19.0417C31.8264 19.0417 31.948 19.0417 32.023 19.1378C32.0981 19.234 32.0729 19.3349 32.0224 19.5367C31.9334 19.8928 31.7492 20.2215 31.4853 20.4853C31.1025 20.8682 30.5832 21.0833 30.0417 21.0833C29.5002 21.0833 28.9809 20.8682 28.598 20.4853C28.3341 20.2215 28.1499 19.8928 28.0609 19.5367C28.0105 19.3349 27.9852 19.234 28.0603 19.1378C28.1354 19.0417 28.2569 19.0417 28.5 19.0417L30.0417 19.0417H31.5833Z" stroke="#33363F" stroke-width="2" stroke-linecap="round" mask="url(#path-4-outside-2_555_623)"/>
  </svg>
</span>
<span class="escala-texto">Ruim</span>
</label>

<input type="radio" id="nivel3" name="satisfacao" value="3">
<label for="nivel3" class="escala-opcao">
<span class="escala-numero">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 49 49" fill="none">
        <circle cx="24.5" cy="24.5" r="19.875" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
        <path d="M16.5831 31.4626C17.4969 30.8589 18.7053 30.4189 20.0283 30.1275C21.3682 29.8325 22.8631 29.6818 24.3685 29.6818C25.8739 29.6818 27.3687 29.8325 28.7086 30.1275C30.0316 30.4189 31.2401 30.8589 32.1539 31.4626" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
        <circle cx="18.375" cy="20.4167" r="2.54167" fill="#33363F" stroke="#33363F" stroke-linecap="round"/>
        <circle cx="30.625" cy="20.4167" r="2.54167" fill="#33363F" stroke="#33363F" stroke-linecap="round"/>
    </svg>
</span>
<span class="escala-texto">Neutro</span>
</label>

<input type="radio" id="nivel4" name="satisfacao" value="4">
<label for="nivel4" class="escala-opcao">
<span class="escala-numero">
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 49 49" fill="none">
    <circle cx="24.5" cy="24.5" r="19.875" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M16.5831 28.1213C17.4969 28.725 18.7053 29.1651 20.0283 29.4565C21.3682 29.7515 22.8631 29.9022 24.3685 29.9022C25.8739 29.9022 27.3687 29.7515 28.7086 29.4565C30.0316 29.1651 31.2401 28.725 32.1539 28.1213" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <rect x="14.1666" y="16.2083" width="6.375" height="4.33333" rx="2.16667" fill="#33363F" stroke="#33363F" stroke-width="0.25" stroke-linecap="round"/>
    <rect x="28.4584" y="16.2083" width="6.375" height="4.33333" rx="2.16667" fill="#33363F" stroke="#33363F" stroke-width="0.25" stroke-linecap="round"/>
  </svg>
</span>
<span class="escala-texto">Bom</span>
</label>

<input type="radio" id="nivel5" name="satisfacao" value="5">
<label for="nivel5" class="escala-opcao">
<span class="escala-numero">
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 49 49" fill="none">
    <circle cx="24.5" cy="24.5" r="19.875" stroke="#33363F" stroke-width="3" stroke-linecap="round"/>
    <path d="M31.9944 30.625C32.2716 30.625 32.4102 30.625 32.4853 30.7221C32.5603 30.8193 32.5272 30.9464 32.4609 31.2006C31.6321 34.3785 28.3828 36.75 24.4998 36.75C20.6168 36.7499 17.3683 34.3784 16.5396 31.2006C16.4733 30.9464 16.4402 30.8193 16.5152 30.7221C16.5903 30.625 16.7289 30.625 17.0061 30.625H31.9944Z" fill="#33363F"/>
    <path d="M16.3343 16.0489C16.5438 15.404 17.4562 15.404 17.6657 16.0489L18.4144 18.3532C18.5082 18.6416 18.7769 18.8369 19.0802 18.8369H21.503C22.1811 18.8369 22.4631 19.7046 21.9145 20.1032L19.9543 21.5273C19.709 21.7056 19.6063 22.0215 19.7001 22.3099L20.4488 24.6142C20.6583 25.2591 19.9202 25.7954 19.3716 25.3968L17.4114 23.9727C17.1661 23.7944 16.8339 23.7944 16.5886 23.9727L14.6284 25.3968C14.0798 25.7954 13.3417 25.2591 13.5512 24.6142L14.2999 22.3099C14.3937 22.0215 14.291 21.7056 14.0457 21.5273L12.0855 20.1032C11.5369 19.7046 11.8189 18.8369 12.497 18.8369H14.9198C15.2231 18.8369 15.4918 18.6416 15.5856 18.3532L16.3343 16.0489Z" fill="#33363F"/>
    <path d="M31.3343 16.0489C31.5438 15.404 32.4562 15.404 32.6657 16.0489L33.4144 18.3532C33.5082 18.6416 33.7769 18.8369 34.0802 18.8369H36.503C37.1811 18.8369 37.4631 19.7046 36.9145 20.1032L34.9543 21.5273C34.709 21.7056 34.6063 22.0215 34.7001 22.3099L35.4488 24.6142C35.6583 25.2591 34.9202 25.7954 34.3716 25.3968L32.4114 23.9727C32.1661 23.7944 31.8339 23.7944 31.5886 23.9727L29.6284 25.3968C29.0798 25.7954 28.3417 25.2591 28.5512 24.6142L29.2999 22.3099C29.3937 22.0215 29.291 21.7056 29.0457 21.5273L27.0855 20.1032C26.5369 19.7046 26.8189 18.8369 27.497 18.8369H29.9198C30.2231 18.8369 30.4918 18.6416 30.5856 18.3532L31.3343 16.0489Z" fill="#33363F"/>
  </svg>
</span>
<span class="escala-texto">Muito bom</span>
</label>
</div>
</div>

<div class="feedback-comentario">
<label for="comentario">Quer fazer um comentário? (opcional)</label>
                    <textarea 
                        id="comentario" 
                        name="comentario" 
                        maxlength="140" 
                    <textarea
                        id="comentario"
                        name="comentario"
                        maxlength="140"
placeholder="Conte-nos mais sobre sua experiência..."
rows="4"
></textarea>
<span class="contador-caracteres">0/140</span>
</div>

                <div class="feedback-imagem">
                    <label for="imagemFeedback">
                        <i class="fas fa-image"></i>
                        Anexar imagem (opcional)
                    </label>
                    <input
                        type="file"
                        id="imagemFeedback"
                        name="imagem"
                        accept="image/*"
                        style="display: none;"
                    >
                    <div class="imagem-preview-container" id="previewContainer" style="display: none;">
                        <img id="imagemPreview" src="" alt="Preview da imagem">
                        <button type="button" class="btn-remover-imagem" id="btnRemoverImagem">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <button type="button" class="btn-selecionar-imagem" id="btnSelecionarImagem">
                        <i class="fas fa-paperclip"></i>
                        Escolher arquivo
                    </button>
                    <span class="nome-arquivo" id="nomeArquivo"></span>
                </div>

<button type="submit" class="btn-enviar-feedback">Enviar avaliação</button>
</form>
</div>
</div>

<!-- Conteúdo Principal -->
<main class="conteudo-principal" id="conteudoPrincipal">
<div class="container">

<style>
/* Estilos para página de detalhes da notícia */
.conteudo-principal {
  background-color: #F6F6F6;
  padding: 0;
  padding-top: 140px; /* aumentado para baixar o conteúdo */
  min-height: 100vh;
  padding-bottom: 200px; /* espaço suficiente para ver todo conteúdo acima do menu inferior */
}

.container {
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
  padding: 0 16px;
  box-sizing: border-box;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.noticia-detalhes {
  /* remove card appearance: make article flow with page */
  background: transparent;
  padding: 0;
  margin: 0 0 16px 0;
  border-radius: 0;
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.noticia-header {
  /* keep spacing for header elements; bar will be attached to the title */
  padding-left: 8px; /* moved a bit left to align title/description */
  margin-bottom: 4px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

/* Attach the red bar to the H1 so it always matches the title height */
.noticia-titulo {
  position: relative;
  /* keep title left-aligned inside header padding */
  padding-left: 0;
}

.noticia-titulo::before {
  content: '';
  position: absolute;
  left: -10px; /* adjusted to match reduced header padding */
  /* start above the category and extend a little further down the H1 */
  top: -1.4rem;
  height: calc(60% + 0.9rem); /* increased slightly to extend further */
  width: 5px; /* thicker as requested */
  background-color: #DE1B24;
  border-radius: 3px;
}

.noticia-categoria {
  display: block;
  color: #DE1B24;
  font-size: 14px;
  font-weight: bold;
  margin-bottom: 10px;
  line-height: 1;
  text-transform: none;
}

.noticia-titulo {
  font-size: 22px; /* increased for better readability */
  font-weight: bold;
  color: #000;
  line-height: 1.2;
  margin: 0 0 16px 0;
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

.noticia-resumo {
  font-size: 16px; /* slightly larger */
  color: #000000;
  line-height: 1.4;
  margin: 0 0 4px 0; /* bring resumo and meta closer */
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
  font-weight: 500;
}

.noticia-meta {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 6px; /* reduce space between resumo and meta */
  margin-bottom: 12px;
  padding-left: 8px; /* align meta with resumo (header padding) */
}

.noticia-autor {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 0;
}

.noticia-autor .por-text {
  color: #000000;
  font-weight: bold;
  text-transform: none;
}

.noticia-autor .autor-nome {
  color: #DE1B24;
  font-weight: bold;
  margin-left: 4px;
}

.noticia-datas {
  font-size: 13px;
  color: #000000;
  display: flex;
  flex-direction: row; /* show dates inline */
  gap: 8px;
  align-items: center;
  margin: 0;
}

.noticia-compartilhar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 0;
  border-bottom: none;
}

.compartilhar-btn {
  background: #F0F0F0;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  padding: 0;
  width: 34px; /* slightly smaller */
  height: 34px; /* slightly smaller */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.compartilhar-btn:hover {
  opacity: 0.8;
  transform: scale(1.05);
}

.compartilhar-btn svg {
  width: 16px; /* smaller icon size */
  height: 16px;
}

.salvar-btn svg {
  width: 20px;
  height: 20px;
}

.salvar-btn[aria-pressed="true"] svg path {
  fill: #33363F;
  stroke: #33363F;
}

.salvar-btn[aria-pressed="true"]:hover {
  transform: scale(1.1);
}

.noticia-imagem {
  width: 100%;
  border-radius: 12px;
  margin-bottom: 40px;
  display: block;
}

.noticia-imagem-credito {
  font-size: 11px;
  color: #999;
  margin-bottom: 24px;
  font-style: italic;
}

/* Seção de Áudio (compacta - reduzida) */
.audio-section {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 8px;
  background: #FFFFFF;
  border: 3px solid #E5E5E5;
  border-radius: 100px;
  margin-bottom: 40px;
  margin-left: auto;
  margin-right: auto;
  cursor: pointer;
  transition: all 0.12s ease;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.03);
  max-width: 384px;
  width: fit-content;
}

.audio-section:hover {
  background: #FAFAFA;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
}

.audio-play-btn {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: transparent;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.12s ease, background 0.12s ease;
  color: inherit;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-appearance: none;
  appearance: none;
}

.audio-play-btn:hover {
  background: #1A1A1A;
  transform: scale(1.05);
}

/* Remover highlight/outline/efeitos indesejados ao clicar (focus/active) */
.audio-play-btn:focus,
.audio-play-btn:active {
  outline: none;
  box-shadow: none;
  background: transparent;
}

.audio-play-btn:focus-visible {
  outline: none;
  box-shadow: none;
}

.audio-play-btn svg {
  width: 28px;
  height: 28px;
  margin-left: 2px;
  margin-top: -4px;
}

.audio-play-btn svg path {
  fill: #000000;
}

.audio-info {
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 0;
}

.audio-title {
  font-size: 13px;
  font-weight: bolder;
  color: #000000;
  line-height: 1.2;
  font-family: 'Inter', sans-serif;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.audio-separator {
  font-size: 14px;
  font-weight: bolder;
  color: #000000;
  margin: 0 4px;
}

.audio-duration {
  font-size: 13px;
  color: #000000;
  font-weight: bolder;
  font-family: 'Inter', sans-serif;
  white-space: nowrap;
}

@media (max-width: 480px) {
  .audio-section {
    display: flex;
    width: fit-content;
    max-width: 88%;
    padding: 8px 12px;
    margin-left: auto;
    margin-right: auto;
  }
  .audio-info { min-width: 0; }
}


.noticia-toggle-tamanho {
  display: flex;
  justify-content: center;
  gap: 0;
  margin-bottom: 20px;
}

.noticia-toggle-tamanho > div {
  display: inline-flex;
  background: #fff;
  border-radius: 24px;
  padding: 0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  border: 1px solid #e0e0e0;
  overflow: hidden;
}

.toggle-btn {
  padding: 8px 24px;
  border: none;
  background: #fff;
  color: #666;
  font-size: 14px;
  font-weight: 600;
  border-radius: 0;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
  position: relative;
}

.toggle-btn:first-child {
  border-radius: 24px 0 0 24px;
}

.toggle-btn:last-child {
  border-radius: 0 24px 24px 0;
  border-left: 1px solid #e0e0e0;
}

.toggle-btn.ativo {
  background: #DE1B24;
  color: #fff;
  border-color: #DE1B24;
}

.toggle-btn.ativo:last-child {
  border-left-color: #DE1B24;
}

.toggle-btn svg {
  width: 16px;
  height: 16px;
  display: none;
}

.toggle-btn.ativo svg {
  display: block;
}

.noticia-conteudo {
  font-size: 18px; /* slightly larger for body text */
  line-height: 1.75;
  color: #333;
  margin-bottom: 24px;
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.noticia-conteudo p {
  margin-bottom: 16px;
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.noticia-conteudo * {
  max-width: 100%;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

.noticia-conteudo img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ========== ANÚNCIOS INLINE ========== */
.anuncio-inline {
  margin: 24px 0;
  width: 100%;
  text-align: center;
  background: #f9f9f9;
  padding: 16px;
  border-radius: 8px;
}

.anuncio-inline img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 0 auto;
  border-radius: 8px;
}

@media (max-width: 480px) {
  .anuncio-inline {
    padding: 12px;
    margin: 20px 0;
  }
}

@media (max-width: 480px) {
  .conteudo-principal {
    padding: 12px;
    padding-top: 40px; /* aumentar no mobile também */
    overflow-x: hidden;
  }

  .container {
    padding: 0 12px;
    max-width: 100%;
  }

  .noticia-titulo {
    font-size: 22px; /* mobile slightly larger */
  }

  .noticia-resumo {
    font-size: 16px;
  }

  .noticia-conteudo {
    font-size: 16px;
  }
}

@media (min-width: 768px) {
  .conteudo-principal {
    padding: 24px;
    padding-top: 180px; /* mais espaço em telas maiores */
  }
  
  .container {
    max-width: 700px;
  }
  
  .noticia-titulo {
    font-size: 32px; /* tablet / desktop increased */
  }
  
  .noticia-resumo {
    font-size: 19px;
  }
  
  .noticia-conteudo {
    font-size: 18px;
  }
}

/* ===================================================
   LINHA DO TEMPO - NOTÍCIAS RELACIONADAS
   =================================================== */

.linha-tempo-secao {
  margin-top: 40px;
  margin-bottom: 30px;
}

.linha-tempo-titulo {
  font-size: 20px;
  font-weight: 700;
  color: #000;
  margin-bottom: 20px;
}

.linha-tempo-grid {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 10px;
  position: relative;
  scrollbar-width: thin;
  scrollbar-color: #DE1B24 #E8E8E8;
}

/* Linha horizontal conectando as notícias - no meio vertical dos cards */
.linha-tempo-grid::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(to right, #DE1B24 0%, #DE1B24 100%);
  z-index: 0;
  pointer-events: none;
  transform: translateY(-50%);
}

.linha-tempo-grid::-webkit-scrollbar {
  height: 6px;
}

.linha-tempo-grid::-webkit-scrollbar-track {
  background: #E8E8E8;
  border-radius: 3px;
}

.linha-tempo-grid::-webkit-scrollbar-thumb {
  background: #DE1B24;
  border-radius: 3px;
}

.linha-tempo-grid::-webkit-scrollbar-thumb:hover {
  background: #B01519;
}

.linha-tempo-card {
  flex: 0 0 180px;
  display: block;
  text-decoration: none;
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  position: relative;
  z-index: 1;
}

.linha-tempo-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
}

.linha-tempo-imagem-wrapper {
  position: relative;
  width: 100%;
  padding-top: 56.25%; /* Aspect ratio 16:9 */
  background: #E8E8E8;
  overflow: hidden;
  border-radius: 12px 12px 0 0;
}

.linha-tempo-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.linha-tempo-img-placeholder {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #DE1B24 0%, #FF6B6B 100%);
}

.linha-tempo-info {
  padding: 12px;
}

.linha-tempo-texto {
  font-size: 14px;
  font-weight: 600;
  color: #000;
  line-height: 1.3;
  margin: 0 0 6px 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.linha-tempo-data {
  font-size: 12px;
  color: #666;
  margin: 0;
}

/* Responsividade */
@media (max-width: 480px) {
  .linha-tempo-titulo {
    font-size: 18px;
  }

  .linha-tempo-card {
    flex: 0 0 160px;
  }

  .linha-tempo-grid {
    gap: 12px;
  }

  .linha-tempo-grid::before {
    height: 2px;
  }

  .linha-tempo-texto {
    font-size: 13px;
  }

  .linha-tempo-data {
    font-size: 11px;
  }
}

@media (min-width: 768px) {
  .linha-tempo-titulo {
    font-size: 24px;
  }

  .linha-tempo-card {
    flex: 0 0 220px;
  }

  .linha-tempo-grid {
    gap: 20px;
  }

  .linha-tempo-grid::before {
    height: 4px;
  }

  .linha-tempo-texto {
    font-size: 15px;
  }

  .linha-tempo-data {
    font-size: 13px;
  }
}

/* Estilos da Enquete */
.enquete-container {
  background: #ffffff;
  padding: 24px;
  margin: 32px 0;
  border: 1px solid #e0e0e0;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.enquete-titulo {
  font-size: 0.875rem;
  font-weight: 700;
  color: #000000;
  margin-bottom: 12px;
  text-transform: none;
  letter-spacing: normal;
}

.enquete-pergunta {
  font-size: 1rem;
  font-weight: 400;
  color: #000000;
  margin-bottom: 20px;
  line-height: 1.5;
}

/* Formulário de votação */
.enquete-form {
  margin-top: 16px;
}

.enquete-opcoes {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 16px;
}

.enquete-opcao-label {
  display: flex;
  align-items: center;
  padding: 16px 18px;
  background: white;
  border: 1px solid #d0d0d0;
  border-radius: 24px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.enquete-opcao-label:hover {
  background: #fafafa;
  border-color: #b0b0b0;
}

.enquete-opcao-label input[type="radio"] {
  margin-right: 14px;
  width: 20px;
  height: 20px;
  cursor: pointer;
  accent-color: #DE1B24;
}

.enquete-opcao-label input[type="radio"]:checked + .enquete-opcao-texto {
  font-weight: 400;
}

.enquete-opcao-texto {
  font-size: 0.95rem;
  color: #333333;
  flex: 1;
}

.enquete-votar-btn {
  background: #DE1B24;
  color: white;
  border: none;
  padding: 14px 32px;
  border-radius: 24px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  text-transform: none;
  transition: background 0.2s ease;
}

.enquete-votar-btn:hover {
  background: #c01820;
}

.enquete-votar-btn:active {
  background: #a01418;
}

/* Resultados da enquete */
.enquete-resultados {
  margin-top: 20px;
}

.enquete-opcao-resultado {
  margin-bottom: 18px;
}

.enquete-opcao-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.enquete-opcao-resultado .enquete-opcao-texto {
  font-size: 0.95rem;
  color: #333333;
  font-weight: 400;
}

.enquete-opcao-percentual {
  font-weight: 700;
  font-size: 0.95rem;
  color: #DE1B24;
}

.enquete-barra-progresso {
  width: 100%;
  height: 8px;
  background: #e9ecef;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 4px;
}

.enquete-barra-preenchimento {
  height: 100%;
  background: #DE1B24;
  border-radius: 4px;
  transition: width 0.3s ease;
}

/* Ocultar completamente a barra quando width é 0 */
.enquete-barra-preenchimento[style*="width: 0"] {
  display: none;
}

.enquete-opcao-votos {
  font-size: 0.875rem;
  color: #6c757d;
}

.enquete-total-votos {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #dee2e6;
  font-weight: 600;
  color: #495057;
}

@media (max-width: 768px) {
  .enquete-container {
    padding: 20px;
    margin: 24px 0;
  }

  .enquete-titulo {
    font-size: 0.875rem;
  }

  .enquete-pergunta {
    font-size: 0.95rem;
  }

  .enquete-opcao-label {
    padding: 14px 16px;
  }

  .enquete-votar-btn {
    width: 100%;
  }
}

/* ========== NOTÍCIAS RELACIONADAS ========== */
.noticias-relacionadas-secao {
  margin: 8px 0 24px;
  padding: 0 16px;
  background: transparent;
}

.relacionadas-titulo {
  font-size: 1.25rem;
  font-weight: 700;
  color: #000000;
  margin-bottom: 4px;
  padding-bottom: 8px;
  border-bottom: 3px solid #DE1B24;
  display: inline-block;
}

.relacionadas-lista {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 20px;
}

.relacionadas-item {
  display: flex;
  align-items: stretch;
  justify-content: space-between;
  padding: 0;
  background: #ffffff;
  border: none;
  border-radius: 18px;
  text-decoration: none;
  transition: box-shadow 0.2s ease;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  position: relative;
}

.relacionadas-item:hover {
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.12);
}

.relacionadas-texto {
  flex: 1;
  margin: 0;
  padding: 12px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
}

.relacionadas-categoria {
  position: static;
  top: auto;
  left: auto;
  font-size: 13px;
  font-weight: bold;
  color: #DE1B24;
  text-transform: capitalize;
  margin-left: -6px;
  display: inline-block;
  margin-top: -15px;
}

.relacionadas-item-titulo {
  font-size: 12.5px;
  font-weight: 700;
  color: #111111;
  margin: 0 0 1px 0;
  line-height: 1.3;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.relacionadas-resumo {
  font-size: 12px;
  color: #000000;
  margin: 4px 0 0 0;
  line-height: 1.1;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.relacionadas-imagem {
  flex-shrink: 0;
  width: 45%;
  min-width: 140px;
  overflow: hidden;
  background: #f0f0f0;
  position: relative;
  align-self: stretch;
  border-radius: 0 12px 12px 0;
}

.relacionadas-imagem img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center center;
  display: block;
}

.relacionadas-img-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);
}

@media (max-width: 768px) {
  .relacionadas-titulo {
    font-size: 1.1rem;
  }
  
  .relacionadas-imagem {
    width: 45%;
    min-width: 120px;
  }
  
  .relacionadas-item-titulo {
    font-size: 12px;
  }
  
  .relacionadas-resumo {
    font-size: 11px;
  }
}

/* ========== BANNER DE ANÚNCIO ========== */
.banner-anuncio-section {
  margin: 32px 0;
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  overflow: hidden;
  background: transparent;
}

.banner-anuncio {
  width: 100%;
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 12px;
}

.banner-anuncio img {
  width: 100%;
  display: block;
  height: auto;
  border-radius: 8px;
}

@media (min-width: 768px) {
  .banner-anuncio {
    padding: 0 20px;
  }
}
</style>

<article class="noticia-detalhes">
  <!-- Cabeçalho com barra vermelha lateral -->
  <div class="noticia-header">
    <!-- Categoria -->
    <span class="noticia-categoria">{{ noticia.categoria.nome }}</span>
    
    <!-- Título -->
    <h1 class="noticia-titulo">{{ noticia.titulo }}</h1>
    
    <!-- Resumo -->
    <p class="noticia-resumo">{{ noticia.resumo }}</p>
  </div>
  
  <!-- Meta informações (autor e datas) -->
  <div class="noticia-meta">
    {% if noticia.autor %}
    <div class="noticia-autor"><span class="por-text">Por</span><span class="autor-nome">{{ noticia.autor }}</span></div>
    {% endif %}
    
      <div class="noticia-datas">
        <span>Publicado em {{ noticia.data_publicacao|date:"d/m/Y \\á\\s H:i" }}</span>
        {% if noticia.data_atualizacao %}
        <span class="separador">|</span>
        <span>Atualizado em {{ noticia.data_atualizacao|date:"d/m/Y \\á\\s H:i" }}</span>
        {% endif %}
      </div>
  </div>
  
  <!-- Botões de compartilhamento -->
  <div class="noticia-compartilhar">
    <div style="display: flex; gap: 8px; align-items: center;">
      <button class="compartilhar-btn" onclick="compartilharGeral()" aria-label="Compartilhar">
        <svg viewBox="0 0 24 24" fill="#666">
          <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
        </svg>
      </button>

      <button class="compartilhar-btn salvar-btn" onclick="toggleSalvarNoticia()" aria-label="Salvar" aria-pressed="false" data-noticia-id="{{ noticia.id }}">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29" fill="none">
          <path d="M4.83337 10.875C4.83337 7.45732 4.83337 5.74848 5.89511 4.68674C6.95685 3.625 8.66569 3.625 12.0834 3.625H16.9167C20.3344 3.625 22.0432 3.625 23.105 4.68674C24.1667 5.74848 24.1667 7.45732 24.1667 10.875V19.125C24.1667 22.3673 24.1667 23.9885 23.1465 24.4843C22.1263 24.9802 20.8516 23.9786 18.3021 21.9754L17.4862 21.3343C16.0526 20.208 15.3359 19.6448 14.5 19.6448C13.6642 19.6448 12.9474 20.208 11.5139 21.3343L10.698 21.9754C8.14849 23.9786 6.87375 24.9802 5.85356 24.4843C4.83337 23.9885 4.83337 22.3673 4.83337 19.125V10.875Z" stroke="#666" stroke-width="2"/>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Imagem principal -->
  {% if noticia.imagem %}
  <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}" class="noticia-imagem">
  {% if noticia.credito_imagem %}
  <p class="noticia-imagem-credito">{{ noticia.credito_imagem }}</p>
  {% endif %}
  {% endif %}
  
  <!-- Seção de Áudio -->
  <div class="audio-section">
    <button class="audio-play-btn" aria-label="Reproduzir áudio">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 6L20 14L8 22V6Z" fill="currentColor"/>
      </svg>
    </button>
    <div class="audio-info">
      <span class="audio-title">Clique aqui e escute a matéria</span>
    </div>
    <span class="audio-separator">|</span>
    <span class="audio-duration">2 min</span>
  </div>
  
  <!-- Toggle Longa/Curta -->
  <div class="noticia-toggle-tamanho">
    <div>
      <button class="toggle-btn ativo" id="btnLonga" onclick="toggleVersao('longa')">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
        </svg>
        Longa
      </button>
      <button class="toggle-btn" id="btnCurta" onclick="toggleVersao('curta')">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
        </svg>
        Curta
      </button>
    </div>
  </div>

  <!-- Versão Longa (padrão) -->
  <div class="noticia-conteudo" id="conteudoLongo" style="display: block;">
    {{ noticia.conteudo|inserir_anuncios }}
  </div>

  <!-- Versão Curta (oculta inicialmente) -->
  <div class="noticia-conteudo" id="conteudoCurto" style="display: none;">
    {{ noticia.resumo|linebreaks }}
    
    <!-- Banner após texto curto -->
    <div class="anuncio-inline" style="margin: 24px 0; width: 100%; text-align: center;">
        <img src="https://jc.uol.com.br/img/selo_revista_recall.png" alt="Publicidade" style="max-width: 100%; height: auto; border-radius: 8px;">
    </div>
  </div>

  <!-- Enquete -->
  {% if enquete %}
  <div class="enquete-container">
    <h3 class="enquete-titulo">{{ enquete.titulo }}</h3>
    <p class="enquete-pergunta">{{ enquete.pergunta }}</p>

    {% if ja_votou_enquete %}
      <!-- Mostrar resultados -->
      <div class="enquete-resultados">
        {% for opcao in enquete.opcoes.all %}
        <div class="enquete-opcao-resultado">
          <div class="enquete-opcao-info">
            <span class="enquete-opcao-texto">{{ opcao.texto }}</span>
            <span class="enquete-opcao-percentual">{{ opcao.percentual|floatformat:1 }}%</span>
          </div>
          <div class="enquete-barra-progresso">
            {% if opcao.votos.count > 0 %}
            <div class="enquete-barra-preenchimento" style="width: {{ opcao.percentual }}%"></div>
            {% else %}
            <div class="enquete-barra-preenchimento" style="width: 0"></div>
            {% endif %}
          </div>
          <span class="enquete-opcao-votos">{{ opcao.votos.count }} voto{{ opcao.votos.count|pluralize }}</span>
        </div>
        {% endfor %}
        <p class="enquete-total-votos">Total: {{ enquete.total_votos }} voto{{ enquete.total_votos|pluralize }}</p>
      </div>
    {% else %}
      <!-- Formulário de votação -->
      <form method="POST" class="enquete-form">
        {% csrf_token %}
        <div class="enquete-opcoes">
          {% for opcao in enquete.opcoes.all %}
          <label class="enquete-opcao-label">
            <input type="radio" name="opcao_id" value="{{ opcao.id }}" required>
            <span class="enquete-opcao-texto">{{ opcao.texto }}</span>
          </label>
          {% endfor %}
        </div>
        <button type="submit" class="enquete-votar-btn">Votar</button>
      </form>
    {% endif %}
  </div>
  {% endif %}

</article>

<!-- Linha do Tempo -->
{% include 'includes/linha_do_tempo_noticia.html' %}

<!-- Banner de Anúncio após Linha do Tempo -->
<section class="banner-anuncio-section" aria-label="Espaço publicitário">
  <div class="banner-anuncio">
    <img src="https://jc.uol.com.br/img/selo_revista_recall.png" alt="Banner Publicitário">
  </div>
</section>

<!-- Notícias Relacionadas -->
{% if noticias_relacionadas %}
<div class="noticias-relacionadas-secao">
  <h2 class="relacionadas-titulo">Notícias relacionadas</h2>
  <div class="relacionadas-lista">
    {% for noticia_rel in noticias_relacionadas %}
    <a href="{% url 'noticia_detalhe' noticia_rel.slug %}" class="relacionadas-item">
      <div class="relacionadas-texto">
        <span class="relacionadas-categoria">{{ noticia_rel.categoria.nome }}</span>
        <h3 class="relacionadas-item-titulo">{{ noticia_rel.titulo }}</h3>
        <p class="relacionadas-resumo">{{ noticia_rel.resumo|truncatewords:15 }}</p>
      </div>
      <div class="relacionadas-imagem">
        {% if noticia_rel.imagem %}
        <img src="{{ noticia_rel.imagem.url }}" alt="{{ noticia_rel.titulo }}">
        {% else %}
        <div class="relacionadas-img-placeholder"></div>
        {% endif %}
      </div>
    </a>
    {% endfor %}
  </div>
</div>
{% endif %}

<script>
// Funções de compartilhamento
function compartilharFacebook() {
  const url = encodeURIComponent(window.location.href);
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank', 'width=600,height=400');
}

function compartilharWhatsApp() {
  const url = encodeURIComponent(window.location.href);
  const texto = encodeURIComponent('{{ noticia.titulo|escapejs }}');
  window.open(`https://wa.me/?text=${texto}%20${url}`, '_blank');
}

function compartilharGeral() {
  if (navigator.share) {
    navigator.share({
      title: '{{ noticia.titulo|escapejs }}',
      text: '{{ noticia.resumo|escapejs }}',
      url: window.location.href
    }).catch(err => {
      // Fallback para copiar para área de transferência
      navigator.clipboard.writeText(window.location.href).then(() => {
        alert('Link copiado para a área de transferência!');
      });
    });
  } else {
    // Fallback para copiar para área de transferência
    navigator.clipboard.writeText(window.location.href).then(() => {
      alert('Link copiado para a área de transferência!');
    });
  }
}

// Toggle entre versão longa e curta
function toggleVersao(versao) {
  const conteudoLongo = document.getElementById('conteudoLongo');
  const conteudoCurto = document.getElementById('conteudoCurto');
  const btnLonga = document.getElementById('btnLonga');
  const btnCurta = document.getElementById('btnCurta');

  if (versao === 'curta') {
    // Mostra versão curta, esconde versão longa
    conteudoCurto.style.display = 'block';
    conteudoLongo.style.display = 'none';
    btnCurta.classList.add('ativo');
    btnLonga.classList.remove('ativo');
  } else {
    // Mostra versão longa, esconde versão curta
    conteudoLongo.style.display = 'block';
    conteudoCurto.style.display = 'none';
    btnLonga.classList.add('ativo');
    btnCurta.classList.remove('ativo');
  }
}

// Função para gerenciar notícias salvas no localStorage
function getNoticiasSalvasLocal() {
  const salvas = localStorage.getItem('noticiasSalvas');
  return salvas ? JSON.parse(salvas) : [];
}

function salvarNoticiaLocal(noticiaId) {
  const salvas = getNoticiasSalvasLocal();
  if (!salvas.includes(noticiaId)) {
    salvas.push(noticiaId);
    localStorage.setItem('noticiasSalvas', JSON.stringify(salvas));
  }
}

function removerNoticiaLocal(noticiaId) {
  let salvas = getNoticiasSalvasLocal();
  salvas = salvas.filter(id => id !== noticiaId);
  localStorage.setItem('noticiasSalvas', JSON.stringify(salvas));
}

function isNoticiaLocalmenteSalva(noticiaId) {
  return getNoticiasSalvasLocal().includes(noticiaId);
}

// Função para salvar/remover notícia
function toggleSalvarNoticia() {
  const btn = document.querySelector('.salvar-btn');
  const noticiaId = btn.getAttribute('data-noticia-id');
  const isSalva = btn.getAttribute('aria-pressed') === 'true';

  {% if user.is_authenticated %}
    // Usuário autenticado: salva no backend
    const url = isSalva
      ? `/remover-noticia-salva/${noticiaId}/`
      : `/salvar-noticia/${noticiaId}/`;

    fetch(url, {
      method: 'POST',
      headers: {
        'X-CSRFToken': '{{ csrf_token }}',
        'Content-Type': 'application/json',
      },
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        // Alterna o estado visual
        btn.setAttribute('aria-pressed', !isSalva);

        // Feedback visual
        if (!isSalva) {
          btn.style.transform = 'scale(1.2)';
          setTimeout(() => {
            btn.style.transform = '';
          }, 200);
        }
      } else {
        alert(data.message || 'Erro ao processar a solicitação.');
      }
    })
    .catch(error => {
      console.error('Erro:', error);
      alert('Erro ao processar a solicitação.');
    });
  {% else %}
    // Usuário não autenticado: salva no localStorage
    if (isSalva) {
      removerNoticiaLocal(noticiaId);
      btn.setAttribute('aria-pressed', 'false');
    } else {
      salvarNoticiaLocal(noticiaId);
      btn.setAttribute('aria-pressed', 'true');

      // Feedback visual
      btn.style.transform = 'scale(1.2)';
      setTimeout(() => {
        btn.style.transform = '';
      }, 200);
    }
  {% endif %}
}

// Verificar estado inicial de salvamento quando a página carregar
document.addEventListener('DOMContentLoaded', function() {
  const btn = document.querySelector('.salvar-btn');
  const noticiaId = btn.getAttribute('data-noticia-id');

  {% if user.is_authenticated %}
    // Usuário autenticado: verifica no backend
    fetch(`/verificar-noticia-salva/${noticiaId}/`)
      .then(response => response.json())
      .then(data => {
        if (data.salva) {
          btn.setAttribute('aria-pressed', 'true');
        }
      })
      .catch(error => console.error('Erro ao verificar salvamento:', error));
  {% else %}
    // Usuário não autenticado: verifica no localStorage
    if (isNoticiaLocalmenteSalva(noticiaId)) {
      btn.setAttribute('aria-pressed', 'true');
    }
  {% endif %}
});
</script>

</div>
</main>

<!-- Nossos Produtos -->
<section class="nossos-produtos">
<div class="nossos-produtos-container">
<h2 class="nossos-produtos-titulo">Nossos Produtos</h2>
<div class="produtos-grid">
<a href="https://www.ne10.uol.com.br/interior" target="_blank" class="produto-item" title="NE10 Interior">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/ne10interior.webp" alt="NE10 Interior">
</div>
<span class="produto-nome">NE10 Interior</span>
</a>

<a href="https://www.radiojornal.ne10.uol.com.br/" target="_blank" class="produto-item" title="Rádio Jornal">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/radio.webp" alt="Rádio Jornal">
</div>
<span class="produto-nome">Rádio Jornal</span>
</a>

<a href="https://tvjornal.ne10.uol.com.br/" target="_blank" class="produto-item" title="TV Jornal">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/tvjornal.webp" alt="TV Jornal">
</div>
<span class="produto-nome">TV Jornal</span>
</a>

<a href="https://jc.ne10.uol.com.br/" target="_blank" class="produto-item" title="Jornal do Commercio">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/jc-novo.webp" alt="Jornal do Commercio">
</div>
<span class="produto-nome">Jornal do Commercio</span>
</a>

<a href="https://www.blogdotorcedor.com.br/" target="_blank" class="produto-item" title="Blog do Torcedor">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/blog_do_torcedor.webp" alt="Blog do Torcedor">
</div>
<span class="produto-nome">Blog do Torcedor</span>
</a>

<a href="https://www.social1.com.br/" target="_blank" class="produto-item" title="Social1">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/social.webp" alt="Social1">
</div>
<span class="produto-nome">Social1</span>
</a>

<a href="https://www.receitadaboa.com.br/" target="_blank" class="produto-item" title="Receita da Boa">
<div class="produto-icone">
<img src="https://sjcc.ne10.uol.com.br/rodape_global/img/receita_da_boa.webp" alt="Receita da Boa">
</div>
<span class="produto-nome">Receita da Boa</span>
</a>
</div>
</div>
</section>

<!-- Rodapé -->
{% include 'includes/footer.html' %}

{% include 'includes/menu_inferior.html' %}
{% include 'includes/radio_player.html' %}

<!-- Incluir script de navegação (mantém o comportamento do botão de busca/menu) -->
<script src="{% static 'js/app.js' %}"></script>
<script src="{% static 'js/header-animation.js' %}"></script>
<script src="{% static 'js/navegacao.js' %}"></script>
<script src="{% static 'js/busca.js' %}"></script>
<script src="{% static 'js/feedback.js' %}"></script>
<script src="{% static 'js/radio-player.js' %}"></script>

</body>
</html>
